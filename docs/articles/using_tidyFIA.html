<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the tidyFIA package • tidyFIA</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the tidyFIA package">
<meta property="og:description" content="tidyFIA">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyFIA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/using_tidyFIA.html">Using the tidyFIA package</a>
    </li>
    <li>
      <a href="../articles/white_spruce.html">White Spruce in Northern MN</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SilviaTerra/tidyFIA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="using_tidyFIA_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using the tidyFIA package</h1>
                        <h4 class="author">Brian Clough &amp; Henry Rodman</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/SilviaTerra/tidyFIA/blob/master/vignettes/using_tidyFIA.Rmd"><code>vignettes/using_tidyFIA.Rmd</code></a></small>
      <div class="hidden name"><code>using_tidyFIA.Rmd</code></div>

    </div>

    
    
<p>This vignette demonstrates the basic use of the tidyFIA package. The core function is <code><a href="../reference/tidy_fia.html">tidy_fia()</a></code>, which queries the FIA database by a single state abbreviation, a string of state abbreviations, or a polygonal area of interest supplied as an <code>sf</code> object. In this example, we will use {tidyFIA} to extract recent FIA data for the Adirondack &amp; Green Mountains ecological supersection, which spans the states of New York and Vermont in the northeastern US.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sf</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyr</span>)

<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">tidyFIA</span>)

<span class="kw pkg">ggplot2</span><span class="kw ns">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span>())</pre></body></html></div>
<p>First we will download the supersection shapefile and create an <code>aoi</code> to pass to tidyFIA.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># Download master shapefile</span>
<span class="no">super_zip</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(
  <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(),
  <span class="st">"gis-supersection-shape-file.zip"</span>
)

<span class="no">super_url</span> <span class="kw">&lt;-</span> <span class="st">"https://www.arb.ca.gov/cc/capandtrade/protocols/usforest/2014/supersectionshapefiles/gis-supersection-shape-file.zip"</span>

<span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span>(
  <span class="kw">url</span> <span class="kw">=</span> <span class="no">super_url</span>,
  <span class="kw">destfile</span> <span class="kw">=</span> <span class="no">super_zip</span>
)

<span class="fu"><a href="https://rdrr.io/r/utils/unzip.html">unzip</a></span>(
  <span class="kw">zipfile</span> <span class="kw">=</span> <span class="no">super_zip</span>,
  <span class="kw">exdir</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>()
)

<span class="no">super_file</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>(), <span class="st">"Supersections/Supersections.shp"</span>)

<span class="co"># import and reproject to EPSG:4326</span>
<span class="no">supersectionShape</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_read.html">st_read</a></span>(<span class="kw">dsn</span> <span class="kw">=</span> <span class="no">super_file</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="kw">crs</span> <span class="kw">=</span> <span class="fl">4326</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">SSection</span>, <span class="no">geometry</span>)</pre></body></html></div>
<pre><code>Reading layer `Supersections' from data source `/private/var/folders/zn/hp8t93v97tl0klvbxfqvw3p80000gn/T/RtmptXn2z4/Supersections/Supersections.shp' using driver `ESRI Shapefile'
Simple feature collection with 95 features and 5 fields
geometry type:  MULTIPOLYGON
dimension:      XY
bbox:           xmin: -2355031 ymin: 269687.9 xmax: 2257506 ymax: 3165565
CRS:            5070</code></pre>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co"># filter</span>
<span class="no">ecoreg</span> <span class="kw">&lt;-</span> <span class="no">supersectionShape</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">SSection</span> <span class="kw">==</span> <span class="st">"Adirondacks &amp; Green Mountains"</span>)</pre></body></html></div>
<p>The function <code>tidy_fia</code> can either query a PostGIS database hosted by SilviaTerra (<code>postgis</code> = TRUE) or download the relevant FIA csv tables from <a href="https://apps.fs.usda.gov/fia/datamart/CSV/datamart_csv.html">FIADB</a>. Querying the database is generally faster than downloading and importing the csv files. The plots are filtered down to the points within the spatial area of interest (<code>aoi</code>). The <code>table_names</code> argument can be used to specify which FIADB tables from the “Index of Tables” in the <a href="https://www.fia.fs.fed.us/library/database-documentation/current/ver80/FIADB%20User%20Guide%20P2_8-0.pdf">FIADB User Guide</a> you would like to download. The imported tables are returned as a list of dataframes.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">fia_data</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/tidy_fia.html">tidy_fia</a></span>(
  <span class="kw">aoi</span> <span class="kw">=</span> <span class="no">ecoreg</span>,
  <span class="kw">postgis</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
  <span class="kw">table_names</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"plot"</span>, <span class="st">"tree"</span>, <span class="st">"subplot"</span>, <span class="st">"cond"</span>)
)</pre></body></html></div>
<p>A simple map of the plot locations can be printed by calling <code><a href="https://rdrr.io/pkg/sf/man/plot.html">plot(fia_data)</a></code>. The <code>plot</code> method for the <code>tidyFIA</code> class will generate a {ggplot2} map that can be added to other plot elements such as some nearby state boundaries to add geographic context.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">p</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sf/man/plot.html">plot</a></span>(<span class="no">fia_data</span>)

<span class="no">nearby_states</span> <span class="kw">&lt;-</span> <span class="kw pkg">spData</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/spData/man/us_states.html">us_states</a></span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_transform.html">st_transform</a></span>(<span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_crs.html">st_crs</a></span>(<span class="no">ecoreg</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_join.html">st_join</a></span>(<span class="no">ecoreg</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(!<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span>(<span class="no">SSection</span>))

<span class="no">p</span> +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(
    <span class="kw">data</span> <span class="kw">=</span> <span class="no">nearby_states</span>,
    <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>,
    <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0</span>
  )</pre></body></html></div>
<p><img src="using_tidyFIA_files/figure-html/map-1.png" width="90%" style="display: block; margin: auto;"></p>
<div id="tree-data" class="section level3">
<h3 class="hasAnchor">
<a href="#tree-data" class="anchor"></a>Tree data</h3>
<p>The ‘tree’ table will be stored as an element in the list: <code>fia_data[["tree"]]</code>. This table can be used to explore tree-level attributes such as height:diameter relationships among species.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># get REF_SPECIES tables</span>
<span class="no">ref_species</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/read_ref_table.html">read_ref_table</a></span>(<span class="st">"REF_SPECIES"</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">spcd</span>, <span class="no">common_name</span>)

<span class="co"># most common species</span>
<span class="no">common_spp</span> <span class="kw">&lt;-</span> <span class="no">fia_data</span><span class="kw">[[</span><span class="st">"tree"</span>]] <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">spcd</span>) <span class="kw">%&gt;%</span>
  <span class="no">tally</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span>(<span class="fl">9</span>, <span class="kw">wt</span> <span class="kw">=</span> <span class="no">n</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span>(<span class="no">spcd</span>)

<span class="no">fia_data</span><span class="kw">[[</span><span class="st">"tree"</span>]] <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">spcd</span> <span class="kw">%in%</span> <span class="no">common_spp</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(<span class="no">ref_species</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">dia</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">ht</span>)) +
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0.2</span>) +
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(~ <span class="no">common_name</span>)</pre></body></html></div>
<p><img src="using_tidyFIA_files/figure-html/trees-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="plot-attributes" class="section level3">
<h3 class="hasAnchor">
<a href="#plot-attributes" class="anchor"></a>Plot attributes</h3>
<p>The tree-level data in the ‘tree’ table can be summarized to obtain plot-level summaries.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">plot_stats</span> <span class="kw">&lt;-</span> <span class="no">fia_data</span><span class="kw">[[</span><span class="st">"tree"</span>]] <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="no">plt_cn</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(
    <span class="kw">bapa</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">tpa_unadj</span> * <span class="fl">0.005454</span> * <span class="no">dia</span> ^ <span class="fl">2</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
    <span class="kw">tpa</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">tpa_unadj</span>, <span class="kw">na.rm</span> <span class="kw">=</span> <span class="fl">TRUE</span>),
    <span class="kw">qmd</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span>(<span class="no">bapa</span> / <span class="no">tpa</span> / <span class="fl">0.005454</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join.html">full_join</a></span>(
    <span class="no">fia_data</span><span class="kw">[[</span><span class="st">"plot"</span>]] <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="no">cn</span>, <span class="no">invyr</span>),
    <span class="kw">by</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"plt_cn"</span> <span class="kw">=</span> <span class="st">"cn"</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html">replace_na</a></span>(<span class="kw">replace</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">bapa</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">tpa</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">qmd</span> <span class="kw">=</span> <span class="fl">0</span>))</pre></body></html></div>
<p>The plot-level attributes could be displayed using histograms. In this example, we are looking at the distribution of basal area per acre, trees per acre, and quadratic mean diameter in plots measured in 2014 or later.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">plot_stats</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="no">invyr</span> <span class="kw">&gt;=</span> <span class="fl">2014</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(
    <span class="kw">cols</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"bapa"</span>, <span class="st">"tpa"</span>, <span class="st">"qmd"</span>),
    <span class="kw">names_to</span> <span class="kw">=</span> <span class="st">"attribute"</span>,
    <span class="kw">values_to</span> <span class="kw">=</span> <span class="st">"value"</span>
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(~ <span class="no">attribute</span>, <span class="kw">scales</span> <span class="kw">=</span> <span class="st">"free"</span>)</pre></body></html></div>
<p><img src="using_tidyFIA_files/figure-html/histograms-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>Distributions of plot-level observations can be plotted with respect to time (<code>invyr</code>).</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">plot_stats</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span>(
    <span class="kw">cols</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"bapa"</span>, <span class="st">"tpa"</span>, <span class="st">"qmd"</span>),
    <span class="kw">names_to</span> <span class="kw">=</span> <span class="st">"attribute"</span>,
    <span class="kw">values_to</span> <span class="kw">=</span> <span class="st">"value"</span>
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">invyr</span>, <span class="kw">y</span> <span class="kw">=</span> <span class="no">value</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0.2</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(~ <span class="no">attribute</span>, <span class="kw">scales</span> <span class="kw">=</span> <span class="st">"free"</span>)</pre></body></html></div>
<p><img src="using_tidyFIA_files/figure-html/time-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>You may also be interested in plotting observations spatially.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">plot_stats_spatial</span> <span class="kw">&lt;-</span> <span class="no">plot_stats</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">rename</a></span>(<span class="kw">geometry</span> <span class="kw">=</span> <span class="no">geom</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/pkg/sf/man/st_as_sf.html">st_as_sf</a></span>()

<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(
    <span class="kw">data</span> <span class="kw">=</span> <span class="no">nearby_states</span>,
    <span class="kw">color</span> <span class="kw">=</span> <span class="st">"blue"</span>,
    <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0</span>
  ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(
    <span class="kw">data</span> <span class="kw">=</span> <span class="no">ecoreg</span>,
    <span class="kw">color</span> <span class="kw">=</span> <span class="st">"black"</span>,
    <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">0</span>
  ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(
    <span class="kw">data</span> <span class="kw">=</span> <span class="no">plot_stats_spatial</span> <span class="kw">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="no">qmd</span>),
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="kw">color</span> <span class="kw">=</span> <span class="no">qmd</span>, <span class="kw">geometry</span> <span class="kw">=</span> <span class="no">geometry</span>)
  ) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_color_gradientn</a></span>(<span class="kw">colors</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">terrain.colors</a></span>(<span class="fl">10</span>))</pre></body></html></div>
<p><img src="using_tidyFIA_files/figure-html/qmd_map-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Henry Rodman, Brian Clough, Nathan Rutenbeck, Nan Pond, SilviaTerra.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
